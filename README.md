# C_project_cafe_admin
-----------------------
### 프로젝트 구조
많은 가게에서 사용하고 있는 키오스기를 기반으로 좀 더 편리하게 가게 운영에 도움이 될 수 있는 아이디어를 구상했습니다.  
기존 키오스기와 달리 물품 판매 외에도 재고 관리, 손님 관리(쿠폰북), 직원 관리, 마감 처리의 별도 메뉴를 만들어 보았습니다.  
>물품 판매 : 기존에 주문표만 출력해주는 것과 달리, 현재 재고상황이 기록되어있는 파일을 불러와서 실시간으로 팔린 메뉴에 따라서 사용된 물품들을 차감해줍니다. 또한 물품의 개수가 일정 수준에 미달하게 되면 "XX 물품 자동주문 완료"라는 메세지와 함께 재고에 일정한 양만큼의 물량이 늘어납니다. 카페 운영자의 재고 관리 부담을 덜어주고자 생각하게 되었습니다. 나중에 실제 물품 구매 서버와 연결된다면 얼마든지 재고관리가 자동화 될 수 있다고 생각합니다.

>재고 관리 : 프로그램이 실행하게 되면 가장 먼저 파일에 저장되어있던 현재 재고현황을 읽어 옵니다. 재고 관리 메뉴에서는 프로그램이 구동되는 도중에 현재 재고상황을 수동으로 체크할 수 있는 기능입니다.

>손님 관리 : 기존의 불편한 점이 많았던 종이 쿠폰북 대신에 언제든지 전화번호만 가지고 쿠폰을 적립할 수 있는 기능입니다. 별도의 이진 파일을 생성하여 파일에서 직접 모든 작업을 수행하는 방식으로 구성하였습니다.

>직원 관리 : 직원의 유형은 2개로 나눠보았습니다. 하나는 정직원, 다른 하나는 알바생입니다. 유형에 따라서 저장되는 내용 또한 다릅니다. 정직원의 경우 입사일을, 알바생의 경우 계약 월 수를 저장하여 직원들을 한눈에 보기 쉽게 만들어 보았습니다. 또한 txt파일에 저장하여 프로그램이 종료된 후에도 별도로 파일을 열었을때 높은 가독성을 지원하고자 했습니다.

>마감 처리 : 종료 프로그램으로 '오늘 총 매출', '메뉴별 판매 지표', '현재 재고 상황'을 출력해준 뒤 종료를 도와줍니다. 위의 코드들에서 동적할당된 메모리들을 풀어준다던지 현재 메모리에 있던 정보들을 파일에 다시 저장을 해주고 열려있는 파일들을 닫는 역할을 합니다.

### 다운받기
-----------------

 $ git clone https://github.com/ChoHyungchan1229/C_project_cafe_admin.git

### Makefile 실행 설명
-----------------------
* 실행파일 이름 : cafe_main.c
  * gcc 컴파일러 사용

    $ make  
    $ ./cafe.out  

  * 다른 경우  

    $ vi Makefile  
    CC->'원하는 컴파일러  

### Project 기능 소개
----------------------
#### 1. 음료판매
1. 준비
  * inventroy.txt에서 동적 할당된 Inven 구조체 배열로 읽어옵니다.
  * 메뉴표를 출력해줍니다.
2. 주문받기
  * 숫자 입력을 통해서 주문을 받습니다.
  * 입력에 따라서 재고 정보를 실시간 반영합니다.  
  * 판매지표에도 실시간 반영  

#### 2. 고객관리 (쿠폰북)  
  * custom.dat 파일을 open하여 진행합니다.
  * 지원 기능은 1. 적립, 2. 신규 입니다.
  * 적립의 경우 기존 회원으로 전화 번호 검색을 통해 쿠폰을 한개 적립합니다.
  * 신규의 경우 파일 입력을 통해서 회원 등록을 지원합니다. (초기 쿠폰 개수는 1개입니다.)
  * 쿠폰자동 발급 : 쿠폰의 개수가 10개가 되면 "해당 번호로 쿠폰 지급완료"라는 문구가 출력되며 쿠폰의 개수는 0개로 초기화 됩니다.
#### 3. 창고관리
  * 현재 창고 현황을 구조체 출력을 통해서 확인할 수 있습니다.
#### 4. 직원관리
  * 지원 기능으로는 1.신규, 2.퇴사, 3.출력
  * 신규는 staff.txt 끝 줄에 입력됩니다.
  * 해당 Staff 구조체에는 직원의 유형에 따른 공용체를 사용하고 있습니다. OFFICIAL&ALBA
  * 퇴사는 파일을 훑으면서 해당 직원 이름을 찾아서 이를 제외한 정보를 파일에 재작성합니다.
  * 출력은 파일 내용을 구조체 형식에 맞게 모두 출력해줍니다.
#### 5. 마감처리
  * 오늘 총 판매액, 메뉴별 판매지표, 재고현황을 출력하고 종료합니다.
  * 재고현황은 파일에 새롭게 작성하게 됩니다.
  * 판매지표 구조체를 포함한 동적할당된 메모리들을 풀어줍니다.
